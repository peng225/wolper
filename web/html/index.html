<!DOCTYPE html>
<html>
  <meta charset="utf-8">
  <body>
      <h1>Wolper web interface</h1>
      <h2>Query</h2>
      <form id="query">
        <label for="key">key</label>
        <input type="text" name="key" /><br />
        <label for="include">include</label>
        <input type="text" name="include" /><br />
        <label for="exclude">exclude</label>
        <input type="text" name="exclude" /><br />
        <label for="unique">unique</label>
        <input type="checkbox" name="unique" /><br />
        <input type="submit" value="Send" />
      </form>
      <h2>Results</h2>
      <div id="result">
      </div>
  </body>
  <script>
    document.querySelector("#query").onsubmit = (e) => {
      e.preventDefault()
      const form_data = new FormData(e.target)
      const url_search_params = new URLSearchParams(form_data)
      console.log("params:" + url_search_params);
      fetch("query?"+url_search_params)
      .then(res=> res.ok ? res.text() : "")
      .then(text=> {
        document.getElementById("result").innerText = text
      });
    }
  </script>
</html>
